cmake_minimum_required(VERSION 3.16)

project(obj VERSION 0.1 LANGUAGES CXX)

set(CMAKE_AUTOUIC ON)
set(CMAKE_AUTOMOC ON)
set(CMAKE_AUTORCC ON)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

find_package(QT NAMES Qt6 Qt5 REQUIRED COMPONENTS Widgets Quick)
find_package(Qt${QT_VERSION_MAJOR} REQUIRED COMPONENTS Widgets Quick)

set(PROJECT_SOURCES
    main.cpp
    mainwindow.cpp
    mainwindow.h
)

if(${QT_VERSION_MAJOR} GREATER_EQUAL 6)
    find_package(Qt6 REQUIRED COMPONENTS Core)
find_package(Qt6 REQUIRED COMPONENTS Core)

    qt_add_executable(obj
        MANUAL_FINALIZATION
        ${PROJECT_SOURCES}
        videostreamer.h videostreamer.cpp
        opencvimageprovider.h opencvimageprovider.cpp
        qml.qrc
        c_library_v2/all/all.h c_library_v2/all/mavlink.h c_library_v2/all/testsuite.h c_library_v2/all/version.h c_library_v2/ardupilotmega/ardupilotmega.h c_library_v2/ardupilotmega/mavlink.h c_library_v2/ardupilotmega/mavlink_msg_adap_tuning.h c_library_v2/ardupilotmega/mavlink_msg_ahrs.h c_library_v2/ardupilotmega/mavlink_msg_ahrs2.h c_library_v2/ardupilotmega/mavlink_msg_ahrs3.h c_library_v2/ardupilotmega/mavlink_msg_airspeed_autocal.h c_library_v2/ardupilotmega/mavlink_msg_aoa_ssa.h c_library_v2/ardupilotmega/mavlink_msg_ap_adc.h c_library_v2/ardupilotmega/mavlink_msg_autopilot_version_request.h c_library_v2/ardupilotmega/mavlink_msg_battery2.h c_library_v2/ardupilotmega/mavlink_msg_camera_feedback.h c_library_v2/ardupilotmega/mavlink_msg_camera_status.h c_library_v2/ardupilotmega/mavlink_msg_compassmot_status.h c_library_v2/ardupilotmega/mavlink_msg_data16.h c_library_v2/ardupilotmega/mavlink_msg_data32.h c_library_v2/ardupilotmega/mavlink_msg_data64.h c_library_v2/ardupilotmega/mavlink_msg_data96.h c_library_v2/ardupilotmega/mavlink_msg_deepstall.h c_library_v2/ardupilotmega/mavlink_msg_device_op_read.h c_library_v2/ardupilotmega/mavlink_msg_device_op_read_reply.h c_library_v2/ardupilotmega/mavlink_msg_device_op_write.h c_library_v2/ardupilotmega/mavlink_msg_device_op_write_reply.h c_library_v2/ardupilotmega/mavlink_msg_digicam_configure.h c_library_v2/ardupilotmega/mavlink_msg_digicam_control.h c_library_v2/ardupilotmega/mavlink_msg_ekf_status_report.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_13_to_16.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_17_to_20.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_1_to_4.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_21_to_24.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_25_to_28.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_29_to_32.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_5_to_8.h c_library_v2/ardupilotmega/mavlink_msg_esc_telemetry_9_to_12.h c_library_v2/ardupilotmega/mavlink_msg_fence_fetch_point.h c_library_v2/ardupilotmega/mavlink_msg_fence_point.h c_library_v2/ardupilotmega/mavlink_msg_gimbal_control.h c_library_v2/ardupilotmega/mavlink_msg_gimbal_report.h c_library_v2/ardupilotmega/mavlink_msg_gimbal_torque_cmd_report.h c_library_v2/ardupilotmega/mavlink_msg_gopro_get_request.h c_library_v2/ardupilotmega/mavlink_msg_gopro_get_response.h c_library_v2/ardupilotmega/mavlink_msg_gopro_heartbeat.h c_library_v2/ardupilotmega/mavlink_msg_gopro_set_request.h c_library_v2/ardupilotmega/mavlink_msg_gopro_set_response.h c_library_v2/ardupilotmega/mavlink_msg_hwstatus.h c_library_v2/ardupilotmega/mavlink_msg_led_control.h c_library_v2/ardupilotmega/mavlink_msg_limits_status.h c_library_v2/ardupilotmega/mavlink_msg_mag_cal_progress.h c_library_v2/ardupilotmega/mavlink_msg_mcu_status.h c_library_v2/ardupilotmega/mavlink_msg_meminfo.h c_library_v2/ardupilotmega/mavlink_msg_mount_configure.h c_library_v2/ardupilotmega/mavlink_msg_mount_control.h c_library_v2/ardupilotmega/mavlink_msg_mount_status.h c_library_v2/ardupilotmega/mavlink_msg_named_value_string.h c_library_v2/ardupilotmega/mavlink_msg_obstacle_distance_3d.h c_library_v2/ardupilotmega/mavlink_msg_osd_param_config.h c_library_v2/ardupilotmega/mavlink_msg_osd_param_config_reply.h c_library_v2/ardupilotmega/mavlink_msg_osd_param_show_config.h c_library_v2/ardupilotmega/mavlink_msg_osd_param_show_config_reply.h c_library_v2/ardupilotmega/mavlink_msg_pid_tuning.h c_library_v2/ardupilotmega/mavlink_msg_radio.h c_library_v2/ardupilotmega/mavlink_msg_rally_fetch_point.h c_library_v2/ardupilotmega/mavlink_msg_rally_point.h c_library_v2/ardupilotmega/mavlink_msg_rangefinder.h c_library_v2/ardupilotmega/mavlink_msg_remote_log_block_status.h c_library_v2/ardupilotmega/mavlink_msg_remote_log_data_block.h c_library_v2/ardupilotmega/mavlink_msg_rpm.h c_library_v2/ardupilotmega/mavlink_msg_secure_command.h c_library_v2/ardupilotmega/mavlink_msg_secure_command_reply.h c_library_v2/ardupilotmega/mavlink_msg_sensor_offsets.h c_library_v2/ardupilotmega/mavlink_msg_set_mag_offsets.h c_library_v2/ardupilotmega/mavlink_msg_simstate.h c_library_v2/ardupilotmega/mavlink_msg_vision_position_delta.h c_library_v2/ardupilotmega/mavlink_msg_water_depth.h c_library_v2/ardupilotmega/mavlink_msg_wind.h c_library_v2/ardupilotmega/testsuite.h c_library_v2/ardupilotmega/version.h c_library_v2/ASLUAV/ASLUAV.h c_library_v2/ASLUAV/mavlink.h c_library_v2/ASLUAV/mavlink_msg_asl_obctrl.h c_library_v2/ASLUAV/mavlink_msg_aslctrl_data.h c_library_v2/ASLUAV/mavlink_msg_aslctrl_debug.h c_library_v2/ASLUAV/mavlink_msg_asluav_status.h c_library_v2/ASLUAV/mavlink_msg_command_int_stamped.h c_library_v2/ASLUAV/mavlink_msg_command_long_stamped.h c_library_v2/ASLUAV/mavlink_msg_ekf_ext.h c_library_v2/ASLUAV/mavlink_msg_fw_soaring_data.h c_library_v2/ASLUAV/mavlink_msg_gsm_link_status.h c_library_v2/ASLUAV/mavlink_msg_satcom_link_status.h c_library_v2/ASLUAV/mavlink_msg_sens_atmos.h c_library_v2/ASLUAV/mavlink_msg_sens_batmon.h c_library_v2/ASLUAV/mavlink_msg_sens_mppt.h c_library_v2/ASLUAV/mavlink_msg_sens_power.h c_library_v2/ASLUAV/mavlink_msg_sens_power_board.h c_library_v2/ASLUAV/mavlink_msg_sensor_airflow_angles.h c_library_v2/ASLUAV/mavlink_msg_sensorpod_status.h c_library_v2/ASLUAV/testsuite.h c_library_v2/ASLUAV/version.h c_library_v2/AVSSUAS/AVSSUAS.h c_library_v2/AVSSUAS/mavlink.h c_library_v2/AVSSUAS/mavlink_msg_avss_drone_imu.h c_library_v2/AVSSUAS/mavlink_msg_avss_drone_operation_mode.h c_library_v2/AVSSUAS/mavlink_msg_avss_drone_position.h c_library_v2/AVSSUAS/mavlink_msg_avss_prs_sys_status.h c_library_v2/AVSSUAS/testsuite.h c_library_v2/AVSSUAS/version.h c_library_v2/common/common.h c_library_v2/common/mavlink.h c_library_v2/common/mavlink_msg_actuator_control_target.h c_library_v2/common/mavlink_msg_actuator_output_status.h c_library_v2/common/mavlink_msg_adsb_vehicle.h c_library_v2/common/mavlink_msg_airspeed.h c_library_v2/common/mavlink_msg_ais_vessel.h c_library_v2/common/mavlink_msg_altitude.h c_library_v2/common/mavlink_msg_att_pos_mocap.h c_library_v2/common/mavlink_msg_attitude.h c_library_v2/common/mavlink_msg_attitude_quaternion.h c_library_v2/common/mavlink_msg_attitude_quaternion_cov.h c_library_v2/common/mavlink_msg_attitude_target.h c_library_v2/common/mavlink_msg_auth_key.h c_library_v2/common/mavlink_msg_autopilot_state_for_gimbal_device.h c_library_v2/common/mavlink_msg_available_modes.h c_library_v2/common/mavlink_msg_available_modes_monitor.h c_library_v2/common/mavlink_msg_battery_info.h c_library_v2/common/mavlink_msg_battery_status.h c_library_v2/common/mavlink_msg_button_change.h c_library_v2/common/mavlink_msg_camera_capture_status.h c_library_v2/common/mavlink_msg_camera_fov_status.h c_library_v2/common/mavlink_msg_camera_image_captured.h c_library_v2/common/mavlink_msg_camera_information.h c_library_v2/common/mavlink_msg_camera_settings.h c_library_v2/common/mavlink_msg_camera_thermal_range.h c_library_v2/common/mavlink_msg_camera_tracking_geo_status.h c_library_v2/common/mavlink_msg_camera_tracking_image_status.h c_library_v2/common/mavlink_msg_camera_trigger.h c_library_v2/common/mavlink_msg_can_filter_modify.h c_library_v2/common/mavlink_msg_can_frame.h c_library_v2/common/mavlink_msg_canfd_frame.h c_library_v2/common/mavlink_msg_cellular_config.h c_library_v2/common/mavlink_msg_cellular_status.h c_library_v2/common/mavlink_msg_change_operator_control.h c_library_v2/common/mavlink_msg_change_operator_control_ack.h c_library_v2/common/mavlink_msg_collision.h c_library_v2/common/mavlink_msg_command_ack.h c_library_v2/common/mavlink_msg_command_cancel.h c_library_v2/common/mavlink_msg_command_int.h c_library_v2/common/mavlink_msg_command_long.h c_library_v2/common/mavlink_msg_component_information.h c_library_v2/common/mavlink_msg_component_information_basic.h c_library_v2/common/mavlink_msg_component_metadata.h c_library_v2/common/mavlink_msg_control_system_state.h c_library_v2/common/mavlink_msg_current_event_sequence.h c_library_v2/common/mavlink_msg_current_mode.h c_library_v2/common/mavlink_msg_data_stream.h c_library_v2/common/mavlink_msg_data_transmission_handshake.h c_library_v2/common/mavlink_msg_debug.h c_library_v2/common/mavlink_msg_debug_float_array.h c_library_v2/common/mavlink_msg_debug_vect.h c_library_v2/common/mavlink_msg_distance_sensor.h c_library_v2/common/mavlink_msg_efi_status.h c_library_v2/common/mavlink_msg_encapsulated_data.h c_library_v2/common/mavlink_msg_esc_info.h c_library_v2/common/mavlink_msg_esc_status.h c_library_v2/common/mavlink_msg_estimator_status.h c_library_v2/common/mavlink_msg_event.h c_library_v2/common/mavlink_msg_extended_sys_state.h c_library_v2/common/mavlink_msg_fence_status.h c_library_v2/common/mavlink_msg_file_transfer_protocol.h c_library_v2/common/mavlink_msg_flight_information.h c_library_v2/common/mavlink_msg_follow_target.h c_library_v2/common/mavlink_msg_fuel_status.h c_library_v2/common/mavlink_msg_generator_status.h c_library_v2/common/mavlink_msg_gimbal_device_attitude_status.h c_library_v2/common/mavlink_msg_gimbal_device_information.h c_library_v2/common/mavlink_msg_gimbal_device_set_attitude.h c_library_v2/common/mavlink_msg_gimbal_manager_information.h c_library_v2/common/mavlink_msg_gimbal_manager_set_attitude.h c_library_v2/common/mavlink_msg_gimbal_manager_set_manual_control.h c_library_v2/common/mavlink_msg_gimbal_manager_set_pitchyaw.h c_library_v2/common/mavlink_msg_gimbal_manager_status.h c_library_v2/common/mavlink_msg_global_position_int_cov.h c_library_v2/common/mavlink_msg_global_vision_position_estimate.h c_library_v2/common/mavlink_msg_gps2_raw.h c_library_v2/common/mavlink_msg_gps2_rtk.h c_library_v2/common/mavlink_msg_gps_global_origin.h c_library_v2/common/mavlink_msg_gps_inject_data.h c_library_v2/common/mavlink_msg_gps_input.h c_library_v2/common/mavlink_msg_gps_raw_int.h c_library_v2/common/mavlink_msg_gps_rtcm_data.h c_library_v2/common/mavlink_msg_gps_rtk.h c_library_v2/common/mavlink_msg_gps_status.h c_library_v2/common/mavlink_msg_high_latency.h c_library_v2/common/mavlink_msg_high_latency2.h c_library_v2/common/mavlink_msg_highres_imu.h c_library_v2/common/mavlink_msg_hil_actuator_controls.h c_library_v2/common/mavlink_msg_hil_controls.h c_library_v2/common/mavlink_msg_hil_gps.h c_library_v2/common/mavlink_msg_hil_optical_flow.h c_library_v2/common/mavlink_msg_hil_rc_inputs_raw.h c_library_v2/common/mavlink_msg_hil_sensor.h c_library_v2/common/mavlink_msg_hil_state.h c_library_v2/common/mavlink_msg_hil_state_quaternion.h c_library_v2/common/mavlink_msg_home_position.h c_library_v2/common/mavlink_msg_hygrometer_sensor.h c_library_v2/common/mavlink_msg_illuminator_status.h c_library_v2/common/mavlink_msg_isbd_link_status.h c_library_v2/common/mavlink_msg_landing_target.h c_library_v2/common/mavlink_msg_link_node_status.h c_library_v2/common/mavlink_msg_local_position_ned.h c_library_v2/common/mavlink_msg_local_position_ned_cov.h c_library_v2/common/mavlink_msg_local_position_ned_system_global_offset.h c_library_v2/common/mavlink_msg_log_data.h c_library_v2/common/mavlink_msg_log_entry.h c_library_v2/common/mavlink_msg_log_erase.h c_library_v2/common/mavlink_msg_log_request_data.h c_library_v2/common/mavlink_msg_log_request_end.h c_library_v2/common/mavlink_msg_log_request_list.h c_library_v2/common/mavlink_msg_logging_ack.h c_library_v2/common/mavlink_msg_logging_data.h c_library_v2/common/mavlink_msg_logging_data_acked.h c_library_v2/common/mavlink_msg_mag_cal_report.h c_library_v2/common/mavlink_msg_manual_control.h c_library_v2/common/mavlink_msg_manual_setpoint.h c_library_v2/common/mavlink_msg_memory_vect.h c_library_v2/common/mavlink_msg_message_interval.h c_library_v2/common/mavlink_msg_mission_ack.h c_library_v2/common/mavlink_msg_mission_clear_all.h c_library_v2/common/mavlink_msg_mission_count.h c_library_v2/common/mavlink_msg_mission_current.h c_library_v2/common/mavlink_msg_mission_item.h c_library_v2/common/mavlink_msg_mission_item_int.h c_library_v2/common/mavlink_msg_mission_item_reached.h c_library_v2/common/mavlink_msg_mission_request.h c_library_v2/common/mavlink_msg_mission_request_int.h c_library_v2/common/mavlink_msg_mission_request_list.h c_library_v2/common/mavlink_msg_mission_request_partial_list.h c_library_v2/common/mavlink_msg_mission_set_current.h c_library_v2/common/mavlink_msg_mission_write_partial_list.h c_library_v2/common/mavlink_msg_mount_orientation.h c_library_v2/common/mavlink_msg_named_value_float.h c_library_v2/common/mavlink_msg_named_value_int.h c_library_v2/common/mavlink_msg_nav_controller_output.h c_library_v2/common/mavlink_msg_obstacle_distance.h c_library_v2/common/mavlink_msg_odometry.h c_library_v2/common/mavlink_msg_onboard_computer_status.h c_library_v2/common/mavlink_msg_open_drone_id_arm_status.h c_library_v2/common/mavlink_msg_open_drone_id_authentication.h c_library_v2/common/mavlink_msg_open_drone_id_basic_id.h c_library_v2/common/mavlink_msg_open_drone_id_location.h c_library_v2/common/mavlink_msg_open_drone_id_message_pack.h c_library_v2/common/mavlink_msg_open_drone_id_operator_id.h c_library_v2/common/mavlink_msg_open_drone_id_self_id.h c_library_v2/common/mavlink_msg_open_drone_id_system.h c_library_v2/common/mavlink_msg_open_drone_id_system_update.h c_library_v2/common/mavlink_msg_optical_flow.h c_library_v2/common/mavlink_msg_optical_flow_rad.h c_library_v2/common/mavlink_msg_orbit_execution_status.h c_library_v2/common/mavlink_msg_param_error.h c_library_v2/common/mavlink_msg_param_ext_ack.h c_library_v2/common/mavlink_msg_param_ext_request_list.h c_library_v2/common/mavlink_msg_param_ext_request_read.h c_library_v2/common/mavlink_msg_param_ext_set.h c_library_v2/common/mavlink_msg_param_ext_value.h c_library_v2/common/mavlink_msg_param_map_rc.h c_library_v2/common/mavlink_msg_param_request_list.h c_library_v2/common/mavlink_msg_param_request_read.h c_library_v2/common/mavlink_msg_param_set.h c_library_v2/common/mavlink_msg_param_value.h c_library_v2/common/mavlink_msg_ping.h c_library_v2/common/mavlink_msg_play_tune.h c_library_v2/common/mavlink_msg_play_tune_v2.h c_library_v2/common/mavlink_msg_position_target_global_int.h c_library_v2/common/mavlink_msg_position_target_local_ned.h c_library_v2/common/mavlink_msg_power_status.h c_library_v2/common/mavlink_msg_protocol_version.h c_library_v2/common/mavlink_msg_radio_status.h c_library_v2/common/mavlink_msg_raw_imu.h c_library_v2/common/mavlink_msg_raw_pressure.h c_library_v2/common/mavlink_msg_raw_rpm.h c_library_v2/common/mavlink_msg_rc_channels.h c_library_v2/common/mavlink_msg_rc_channels_override.h c_library_v2/common/mavlink_msg_rc_channels_raw.h c_library_v2/common/mavlink_msg_rc_channels_scaled.h c_library_v2/common/mavlink_msg_request_data_stream.h c_library_v2/common/mavlink_msg_request_event.h c_library_v2/common/mavlink_msg_resource_request.h c_library_v2/common/mavlink_msg_response_event_error.h c_library_v2/common/mavlink_msg_safety_allowed_area.h c_library_v2/common/mavlink_msg_safety_set_allowed_area.h c_library_v2/common/mavlink_msg_scaled_imu.h c_library_v2/common/mavlink_msg_scaled_imu2.h c_library_v2/common/mavlink_msg_scaled_imu3.h c_library_v2/common/mavlink_msg_scaled_pressure.h c_library_v2/common/mavlink_msg_scaled_pressure2.h c_library_v2/common/mavlink_msg_scaled_pressure3.h c_library_v2/common/mavlink_msg_serial_control.h c_library_v2/common/mavlink_msg_servo_output_raw.h c_library_v2/common/mavlink_msg_set_actuator_control_target.h c_library_v2/common/mavlink_msg_set_attitude_target.h c_library_v2/common/mavlink_msg_set_gps_global_origin.h c_library_v2/common/mavlink_msg_set_home_position.h c_library_v2/common/mavlink_msg_set_mode.h c_library_v2/common/mavlink_msg_set_position_target_global_int.h c_library_v2/common/mavlink_msg_set_position_target_local_ned.h c_library_v2/common/mavlink_msg_setup_signing.h c_library_v2/common/mavlink_msg_sim_state.h c_library_v2/common/mavlink_msg_smart_battery_info.h c_library_v2/common/mavlink_msg_statustext.h c_library_v2/common/mavlink_msg_storage_information.h c_library_v2/common/mavlink_msg_supported_tunes.h c_library_v2/common/mavlink_msg_sys_status.h c_library_v2/common/mavlink_msg_system_time.h c_library_v2/common/mavlink_msg_terrain_check.h c_library_v2/common/mavlink_msg_terrain_data.h c_library_v2/common/mavlink_msg_terrain_report.h c_library_v2/common/mavlink_msg_terrain_request.h c_library_v2/common/mavlink_msg_time_estimate_to_target.h c_library_v2/common/mavlink_msg_timesync.h c_library_v2/common/mavlink_msg_trajectory_representation_bezier.h c_library_v2/common/mavlink_msg_trajectory_representation_waypoints.h c_library_v2/common/mavlink_msg_tunnel.h c_library_v2/common/mavlink_msg_uavcan_node_info.h c_library_v2/common/mavlink_msg_uavcan_node_status.h c_library_v2/common/mavlink_msg_utm_global_position.h c_library_v2/common/mavlink_msg_v2_extension.h c_library_v2/common/mavlink_msg_vfr_hud.h c_library_v2/common/mavlink_msg_vibration.h c_library_v2/common/mavlink_msg_vicon_position_estimate.h c_library_v2/common/mavlink_msg_video_stream_information.h c_library_v2/common/mavlink_msg_video_stream_status.h c_library_v2/common/mavlink_msg_vision_position_estimate.h c_library_v2/common/mavlink_msg_vision_speed_estimate.h c_library_v2/common/mavlink_msg_wheel_distance.h c_library_v2/common/mavlink_msg_wifi_config_ap.h c_library_v2/common/mavlink_msg_winch_status.h c_library_v2/common/mavlink_msg_wind_cov.h c_library_v2/common/testsuite.h c_library_v2/common/version.h c_library_v2/csAirLink/csAirLink.h c_library_v2/csAirLink/mavlink.h c_library_v2/csAirLink/mavlink_msg_airlink_auth.h c_library_v2/csAirLink/mavlink_msg_airlink_auth_response.h c_library_v2/csAirLink/testsuite.h c_library_v2/csAirLink/version.h c_library_v2/cubepilot/cubepilot.h c_library_v2/cubepilot/mavlink.h c_library_v2/cubepilot/mavlink_msg_cubepilot_firmware_update_resp.h c_library_v2/cubepilot/mavlink_msg_cubepilot_firmware_update_start.h c_library_v2/cubepilot/mavlink_msg_cubepilot_raw_rc.h c_library_v2/cubepilot/mavlink_msg_herelink_telem.h c_library_v2/cubepilot/mavlink_msg_herelink_video_stream_information.h c_library_v2/cubepilot/testsuite.h c_library_v2/cubepilot/version.h c_library_v2/development/development.h c_library_v2/development/mavlink.h c_library_v2/development/mavlink_msg_battery_status_v2.h c_library_v2/development/mavlink_msg_control_status.h c_library_v2/development/mavlink_msg_figure_eight_execution_status.h c_library_v2/development/mavlink_msg_global_position.h c_library_v2/development/mavlink_msg_gnss_integrity.h c_library_v2/development/mavlink_msg_group_end.h c_library_v2/development/mavlink_msg_group_start.h c_library_v2/development/mavlink_msg_radio_rc_channels.h c_library_v2/development/mavlink_msg_set_velocity_limits.h c_library_v2/development/mavlink_msg_target_absolute.h c_library_v2/development/mavlink_msg_target_relative.h c_library_v2/development/mavlink_msg_velocity_limits.h c_library_v2/development/testsuite.h c_library_v2/development/version.h c_library_v2/icarous/icarous.h c_library_v2/icarous/mavlink.h c_library_v2/icarous/mavlink_msg_icarous_heartbeat.h c_library_v2/icarous/mavlink_msg_icarous_kinematic_bands.h c_library_v2/icarous/testsuite.h c_library_v2/icarous/version.h c_library_v2/loweheiser/loweheiser.h c_library_v2/loweheiser/mavlink.h c_library_v2/loweheiser/mavlink_msg_loweheiser_gov_efi.h c_library_v2/loweheiser/testsuite.h c_library_v2/loweheiser/version.h c_library_v2/marsh/marsh.h c_library_v2/marsh/mavlink.h c_library_v2/marsh/mavlink_msg_control_loading_axis.h c_library_v2/marsh/mavlink_msg_eye_tracking_data.h c_library_v2/marsh/mavlink_msg_motion_cue_extra.h c_library_v2/marsh/mavlink_msg_motion_platform_state.h c_library_v2/marsh/mavlink_msg_rexroth_motion_platform.h c_library_v2/marsh/testsuite.h c_library_v2/marsh/version.h c_library_v2/matrixpilot/matrixpilot.h c_library_v2/matrixpilot/mavlink.h c_library_v2/matrixpilot/mavlink_msg_airspeeds.h c_library_v2/matrixpilot/mavlink_msg_altitudes.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_buffer_function.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_buffer_function_ack.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_command.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_command_ack.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_directory.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_directory_ack.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_read_req.h c_library_v2/matrixpilot/mavlink_msg_flexifunction_set.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f13.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f14.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f15.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f16.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f17.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f18.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f19.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f20.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f21.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f22.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f2_a.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f2_b.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f4.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f5.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f6.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f7.h c_library_v2/matrixpilot/mavlink_msg_serial_udb_extra_f8.h c_library_v2/matrixpilot/testsuite.h c_library_v2/matrixpilot/version.h c_library_v2/message_definitions/all.xml c_library_v2/message_definitions/ardupilotmega.xml c_library_v2/message_definitions/ASLUAV.xml c_library_v2/message_definitions/AVSSUAS.xml c_library_v2/message_definitions/common.xml c_library_v2/message_definitions/csAirLink.xml c_library_v2/message_definitions/cubepilot.xml c_library_v2/message_definitions/development.xml c_library_v2/message_definitions/icarous.xml c_library_v2/message_definitions/loweheiser.xml c_library_v2/message_definitions/marsh.xml c_library_v2/message_definitions/matrixpilot.xml c_library_v2/message_definitions/minimal.xml c_library_v2/message_definitions/paparazzi.xml c_library_v2/message_definitions/python_array_test.xml c_library_v2/message_definitions/standard.xml c_library_v2/message_definitions/storm32.xml c_library_v2/message_definitions/test.xml c_library_v2/message_definitions/ualberta.xml c_library_v2/message_definitions/uAvionix.xml c_library_v2/minimal/mavlink.h c_library_v2/minimal/mavlink_msg_heartbeat.h c_library_v2/minimal/minimal.h c_library_v2/minimal/testsuite.h c_library_v2/minimal/version.h c_library_v2/paparazzi/mavlink.h c_library_v2/paparazzi/mavlink_msg_script_count.h c_library_v2/paparazzi/mavlink_msg_script_current.h c_library_v2/paparazzi/mavlink_msg_script_item.h c_library_v2/paparazzi/mavlink_msg_script_request.h c_library_v2/paparazzi/mavlink_msg_script_request_list.h c_library_v2/paparazzi/paparazzi.h c_library_v2/paparazzi/testsuite.h c_library_v2/paparazzi/version.h c_library_v2/python_array_test/mavlink.h c_library_v2/python_array_test/mavlink_msg_array_test_0.h c_library_v2/python_array_test/mavlink_msg_array_test_1.h c_library_v2/python_array_test/mavlink_msg_array_test_3.h c_library_v2/python_array_test/mavlink_msg_array_test_4.h c_library_v2/python_array_test/mavlink_msg_array_test_5.h c_library_v2/python_array_test/mavlink_msg_array_test_6.h c_library_v2/python_array_test/mavlink_msg_array_test_7.h c_library_v2/python_array_test/mavlink_msg_array_test_8.h c_library_v2/python_array_test/python_array_test.h c_library_v2/python_array_test/testsuite.h c_library_v2/python_array_test/version.h c_library_v2/standard/mavlink.h c_library_v2/standard/mavlink_msg_autopilot_version.h c_library_v2/standard/mavlink_msg_global_position_int.h c_library_v2/standard/standard.h c_library_v2/standard/testsuite.h c_library_v2/standard/version.h c_library_v2/storm32/mavlink.h c_library_v2/storm32/mavlink_msg_autopilot_state_for_gimbal_device_ext.h c_library_v2/storm32/mavlink_msg_frsky_passthrough_array.h c_library_v2/storm32/mavlink_msg_mlrs_radio_link_flow_control.h c_library_v2/storm32/mavlink_msg_mlrs_radio_link_information.h c_library_v2/storm32/mavlink_msg_mlrs_radio_link_stats.h c_library_v2/storm32/mavlink_msg_param_value_array.h c_library_v2/storm32/mavlink_msg_qshot_status.h c_library_v2/storm32/mavlink_msg_storm32_gimbal_manager_control.h c_library_v2/storm32/mavlink_msg_storm32_gimbal_manager_control_pitchyaw.h c_library_v2/storm32/mavlink_msg_storm32_gimbal_manager_correct_roll.h c_library_v2/storm32/mavlink_msg_storm32_gimbal_manager_information.h c_library_v2/storm32/mavlink_msg_storm32_gimbal_manager_status.h c_library_v2/storm32/storm32.h c_library_v2/storm32/testsuite.h c_library_v2/storm32/version.h c_library_v2/test/mavlink.h c_library_v2/test/mavlink_msg_test_types.h c_library_v2/test/test.h c_library_v2/test/testsuite.h c_library_v2/test/version.h c_library_v2/ualberta/mavlink.h c_library_v2/ualberta/mavlink_msg_nav_filter_bias.h c_library_v2/ualberta/mavlink_msg_radio_calibration.h c_library_v2/ualberta/mavlink_msg_ualberta_sys_status.h c_library_v2/ualberta/testsuite.h c_library_v2/ualberta/ualberta.h c_library_v2/ualberta/version.h c_library_v2/uAvionix/mavlink.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_get.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_cfg.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_cfg_flightid.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_cfg_registration.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_control.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_dynamic.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_out_status.h c_library_v2/uAvionix/mavlink_msg_uavionix_adsb_transceiver_health_report.h c_library_v2/uAvionix/testsuite.h c_library_v2/uAvionix/uAvionix.h c_library_v2/uAvionix/version.h c_library_v2/checksum.h c_library_v2/mavlink_conversions.h c_library_v2/mavlink_get_info.h c_library_v2/mavlink_helpers.h c_library_v2/mavlink_sha256.h c_library_v2/mavlink_types.h c_library_v2/protocol.h
    )
else()
    if(ANDROID)
        add_library(obj SHARED ${PROJECT_SOURCES})
    else()
        add_executable(obj ${PROJECT_SOURCES})
    endif()
endif()

# Ensure the final link block looks tidy:
target_link_libraries(obj
    PRIVATE
        Qt${QT_VERSION_MAJOR}::Widgets
        Qt${QT_VERSION_MAJOR}::Quick  # <-- NEW: Fixes QQuickImageProvider
        Qt${QT_VERSION_MAJOR}::Core   # (Can be removed if Qt::Quick/Widgets is enough)
)
# ---------------- OpenCV Integration ----------------
# ✅ CORRECT: Point to the install directory (contains OpenCVConfig.cmake)
set(OpenCV_DIR "C:/Users/vijay/Downloads/opencv/build7/install")

find_package(OpenCV REQUIRED)

# Debug info to verify OpenCV is found correctly
message(STATUS "OpenCV version: ${OpenCV_VERSION}")
message(STATUS "OpenCV libraries: ${OpenCV_LIBS}")

# Include OpenCV headers
target_include_directories(obj PRIVATE ${OpenCV_INCLUDE_DIRS})

# Link OpenCV libraries
target_link_libraries(obj PRIVATE ${OpenCV_LIBS})
target_link_libraries(obj PRIVATE Qt6::Core)
target_link_libraries(obj PRIVATE Qt6::Core)

# ---------------- Auto-copy DLLs after build ----------------
if(WIN32)
    set(OpenCV_BIN_DIR "C:/Users/vijay/Downloads/opencv/build7/install/x64/vc17/bin")

    add_custom_command(TARGET ${PROJECT_NAME} POST_BUILD
        COMMAND ${CMAKE_COMMAND} -E copy_directory
            "${OpenCV_BIN_DIR}"                    # Source folder with DLLs
            "$<TARGET_FILE_DIR:${PROJECT_NAME}>"   # Destination: your .exe output
    )
endif()

# ---------------- Qt finalize ----------------
if(QT_VERSION_MAJOR EQUAL 6)
    qt_finalize_executable(obj)
endif()

include(GNUInstallDirs)
install(TARGETS obj
    BUNDLE DESTINATION .
    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
    RUNTIME DESTINATION ${CMAKE_INSTALL_BINDIR}
)
